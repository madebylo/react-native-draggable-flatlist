{"version":3,"names":["AnimatedFlatList","Animated","createAnimatedComponent","FlatList","DraggableFlatListInner","props","useRefs","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","useAnimatedValues","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","useStableCallback","value","setActiveKey","dragHitSlop","DEFAULT_PROPS","scrollEnabled","activationDistance","activationDistanceProp","useState","activeKey","current","enableLayoutAnimationExperimental","layoutAnimationDisabled","setLayoutAnimationDisabled","keyExtractor","item","index","Error","dataRef","useRef","data","dataHasChanged","map","join","InteractionManager","runAfterInteractions","useEffect","setTimeout","useLayoutEffect","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","layout","nativeEvent","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","useMemo","renderItem","useCallback","onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","useAnimatedReaction","cur","prev","hasMoved","runOnJS","gestureDisabled","useSharedValue","outerScrollRef","outerScrollOffset","autoscrollThreshold","autoscrollSpeed","propsForFlatList","pointerPositionDuringDragY","pointerType","outerScrollState","outerScrollViewTopY","outerScrollViewBottomY","attemptedOffset","lastDir","node","isWeb","el","style","prevOverflow","overflowY","overscrollBehavior","setNativeProps","measureInWindow","_","y","__","useDerivedValue","distFromEdge","speedPct","dir","delta","scrollTo","real","movedInDir","panGesture","Gesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","absoluteY","onEnd","springTo","withSpring","onTouchesDown","onTouchesUp","minDistance","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","useAnimatedScrollHandler","contentOffset","x","useAutoScroll","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","max","containerStyle","renderPlaceholder","CellRendererComponent","simultaneousHandlers","DraggableFlatList","ref","MemoizedInner","typedMemo","React","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  ListRenderItem,\n  FlatListProps,\n  LayoutChangeEvent,\n  InteractionManager,\n} from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n  useDerivedValue, //@madebylo\n  scrollTo, //@madebylo\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\"; //@madebylo\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n    InteractionManager.runAfterInteractions(() => {\n      reset();\n    });\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n\n      setActiveKey(null);\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n//#region @madebylo\n\n  const {\n    outerScrollRef,\n    outerScrollOffset,\n    autoscrollThreshold = DEFAULT_PROPS.autoscrollThreshold,\n    autoscrollSpeed     = DEFAULT_PROPS.autoscrollSpeed,\n  } = props;\n\n  const propsForFlatList = { ...props };\n  delete propsForFlatList.outerScrollRef;\n  delete propsForFlatList.outerScrollOffset;\n  delete propsForFlatList.autoscrollThreshold;\n  delete propsForFlatList.autoscrollSpeed;\n  \n\n  const pointerPositionDuringDragY = useSharedValue<number | null>(null);\n  const pointerType                = useSharedValue(0) // 0 = TOUCH, 1 = STYLUS, 2 = MOUSE, 3 = KEY, 4  OTHER\n  const outerScrollState           = useSharedValue<0 | 1 | 2>(0);   // 0 idle, 1 up, 2 down\n  const outerScrollViewTopY        = useSharedValue(0);\n  const outerScrollViewBottomY     = useSharedValue(0);\n  const attemptedOffset            = useSharedValue(0);              // wohin wir scrollen wollen\n  const lastDir                    = useSharedValue<0 | 1 | -1>(0);  // 1 ↓, -1 ↑\n\n\n  // lock the scroll of the outer scroll view\n  useEffect(() => {\n    const node = outerScrollRef?.current;\n    if (!node || pointerType.value == 2) return;\n\n    if (isWeb) {\n      // @ts-ignore – we know that node is an HTMLElement\n      const el = node;\n\n      // @ts-ignore – TypeScript does not know that el is an HTMLElement\n      if (!el?.style) return;\n\n      // @ts-ignore – we know that el is an HTMLElement\n      const prevOverflow = el.style.overflowY;\n\n      // @ts-ignore\n      el.style.overflowY = activeKey == null ? \"auto\" : \"hidden\";\n\n      // @ts-ignore\n      el.style.overscrollBehavior = activeKey == null ? \"auto\" : \"contain\";\n\n      return () => {\n        // @ts-ignore\n        el.style.overflowY = prevOverflow;\n\n        // @ts-ignore\n        el.style.overscrollBehavior = \"auto\";\n      };\n    } else {\n      node.setNativeProps({ scrollEnabled: activeKey == null });\n    }\n  }, [activeKey, isWeb, outerScrollRef]);\n  \n\n  //measure the outer scroll view\n  useEffect(() => {\n    // @ts-ignore – outerScrollRef is a ref to a ScrollView\n    outerScrollRef?.current?.measureInWindow((_, y, __, h) => {\n      outerScrollViewTopY.value  = y;\n      outerScrollViewBottomY.value = y + h;\n    });\n  }, [pointerType]);\n\n\n  // check if the pointer is within the autoscroll threshold\n  useDerivedValue(() => {\n    const y = pointerPositionDuringDragY.value;\n    if (y == null || activeKey == null) { outerScrollState.value = 0; return; }\n\n    if (y < outerScrollViewTopY.value + autoscrollThreshold)\n        outerScrollState.value = 1;           // up\n    else if (y > outerScrollViewBottomY.value - autoscrollThreshold)\n        outerScrollState.value = 2;           // down\n    else outerScrollState.value = 0;           // none\n  });\n\n\n  // scroll the outer scroll view if the pointer is within the autoscroll threshold\n  useDerivedValue(() => {\n\n    if (outerScrollState.value === 0 || outerScrollRef == null || outerScrollOffset?.value == null  || activeKey == null) return;\n\n    const distFromEdge = outerScrollState.value === 1\n      ? pointerPositionDuringDragY.value! - outerScrollViewTopY.value\n      : outerScrollViewBottomY.value - pointerPositionDuringDragY.value!;\n\n    const speedPct = 1 - distFromEdge / autoscrollThreshold;\n    if (speedPct <= 0) return;\n\n    const dir   = outerScrollState.value === 1 ? -1 : 1;\n    const delta = speedPct * autoscrollSpeed * dir;\n\n    attemptedOffset.value = outerScrollOffset.value + delta;\n    lastDir.value         = dir as 1 | -1;\n\n    // @ts-ignore\n    scrollTo(outerScrollRef, 0, attemptedOffset.value, false); // UI-Thread\n  });\n  \n\n  // check if the outer scroll view has reached the limit\n  if (outerScrollOffset) {\n    useAnimatedReaction(\n      () => outerScrollOffset.value,\n      (real, prev) => {\n        if (outerScrollState.value === 0 || prev == null) return;\n\n        const dir          = lastDir.value;\n        const movedInDir   = dir === 1 ? real > prev : real < prev;\n\n        if (!movedInDir) {\n          outerScrollState.value = 0;\n        }\n      }\n    );\n  }\n\n//#endregion\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      pointerType.value = evt.pointerType; //@madebylo\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n      pointerPositionDuringDragY.value = evt.absoluteY //@madebylo\n    })\n    .onEnd((evt) => {\n      pointerPositionDuringDragY.value = null; //@madebylo\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.value,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      pointerPositionDuringDragY.value = null //@madebylo\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (isWeb) panGesture.minDistance(0); //@madebylo\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      //@ts-ignore\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      //@ts-ignore\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture} touchAction={props.horizontal ? \"pan-x\" : \"pan-y\"} userSelect=\"none\"> \n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...propsForFlatList} //@madebylo\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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"}